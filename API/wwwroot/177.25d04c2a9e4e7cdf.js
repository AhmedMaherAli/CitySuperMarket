"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[177],{7177:(O,p,c)=>{c.r(p),c.d(p,{ShopModule:()=>U});var a=c(9808),h=c(4466);class l{constructor(){this.brandIdSelected=0,this.typeIdSelected=0,this.sortSelected="name",this.pageIndex=1,this.pageSize=12}}var t=c(4893),f=c(2340),_=c(520);let d=(()=>{class o{constructor(e){this.http=e,this.baseUrl=f.N.apiUrl}getProducts(e){let n=this.baseUrl;return n+="products?pageSize="+e.pageSize.toString(),n+="&pageIndex="+e.pageIndex.toString(),0!==e.brandIdSelected&&(n+="&BrandId="+e.brandIdSelected.toString()),0!==e.typeIdSelected&&(n+="&TypeId="+e.typeIdSelected.toString()),e.search&&(n+="&search="+e.search),n+="&sort="+e.sortSelected,this.http.get(n)}getBrands(){let e=this.baseUrl;return e+="products/brands",this.http.get(e)}getTypes(){let e=this.baseUrl;return e+="products/types",this.http.get(e)}getProduct(e){return this.http.get(this.baseUrl+"products/"+e.toString())}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(_.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var m=c(2382),g=c(122),u=c(0);let Z=(()=>{class o{constructor(e){this.basketService=e}addItemToBasket(){console.log("Start..."),this.basketService.addItemToBasket(this.product)}ngOnInit(){}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(g.v))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-product-item"]],inputs:{product:"product"},decls:15,vars:11,consts:[[1,"card-body","d-flex","flex-column","h-100","mt-2","shadow-sm"],[3,"routerLink"],[1,""],[1,"img-fluid",3,"routerLink","src","alt"],[1,"card-body","d-flex","flex-column"],[1,"card-text"],[1,"btn-group","mt-auto"],["type","button",1,"btn","btn-outline-success","fa","fa-shopping-cart","me-2",3,"click"],["type","button",1,"btn","btn-outline-success",3,"routerLink"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"a",1),t.TgZ(2,"h6",2),t._uU(3),t.qZA(),t.qZA(),t._UZ(4,"img",3),t.TgZ(5,"div",4),t.TgZ(6,"span"),t._uU(7),t.ALo(8,"currency"),t.qZA(),t.TgZ(9,"p",5),t._uU(10),t.qZA(),t.TgZ(11,"div",6),t.TgZ(12,"button",7),t.NdJ("click",function(){return n.addItemToBasket()}),t.qZA(),t.TgZ(13,"button",8),t._uU(14,"View"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.MGl("routerLink","/shop/",n.product.id,""),t.xp6(2),t.Oqu(n.product.name),t.xp6(1),t.MGl("routerLink","/shop/",n.product.id,""),t.s9C("src",n.product.pictureUrl,t.LSH),t.s9C("alt",n.product.name),t.xp6(3),t.Oqu(t.xi3(8,8,n.product.price,"EGP")),t.xp6(3),t.Oqu(n.product.description),t.xp6(3),t.MGl("routerLink","/shop/",n.product.id,""))},directives:[u.yS,u.rH],pipes:[a.H9],styles:[""]}),o})();var v=c(2492);const T=["search"];function S(o,i){if(1&o&&(t.TgZ(0,"option",23),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.Q6J("value",e.value),t.xp6(1),t.Oqu(e.name)}}function y(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"li",24),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().onBrandSelected(s.id)}),t._uU(1),t.qZA()}if(2&o){const e=i.$implicit,n=t.oxw();t.ekj("active",e.id===n.params.brandIdSelected),t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function x(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"li",25),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().onTypeSelected(s.id)}),t._uU(1),t.qZA()}if(2&o){const e=i.$implicit,n=t.oxw();t.ekj("active",e.id===n.params.typeIdSelected),t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function b(o,i){if(1&o&&(t.TgZ(0,"div",26),t._UZ(1,"app-product-item",27),t.qZA()),2&o){const e=i.$implicit;t.xp6(1),t.Q6J("product",e)}}const q=["productQuantity"];function A(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"div",1),t.TgZ(1,"div",2),t.TgZ(2,"h4"),t._uU(3),t.qZA(),t._UZ(4,"img",3),t.TgZ(5,"div",4),t.TgZ(6,"span"),t._uU(7),t.ALo(8,"currency"),t.qZA(),t.TgZ(9,"p",5),t._uU(10),t.qZA(),t.TgZ(11,"div",6),t.TgZ(12,"button",7),t.NdJ("click",function(){return t.CHM(e),t.oxw().addItemToBasket()}),t.qZA(),t.TgZ(13,"i",8),t.NdJ("click",function(){return t.CHM(e),t.oxw().decreaseQuantity()}),t.qZA(),t.TgZ(14,"span",9,10),t._uU(16),t.qZA(),t.TgZ(17,"i",11),t.NdJ("click",function(){return t.CHM(e),t.oxw().increaseQuantity()}),t.qZA(),t._UZ(18,"a"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();t.xp6(3),t.Oqu(e.product.name),t.xp6(1),t.MGl("routerLink","/shop/",e.product.id,""),t.s9C("src",e.product.pictureUrl,t.LSH),t.s9C("alt",e.product.name),t.xp6(3),t.Oqu(t.xi3(8,7,e.product.price,"EGP")),t.xp6(3),t.Oqu(e.product.description),t.xp6(6),t.hij(" ",e.quantity," ")}}const k=[{path:"",component:(()=>{class o{constructor(e){this.shopService=e,this.totalCount=0,this.sortOptions=[{name:"Alphabetical",value:"name"},{name:"Price: Low to High",value:"price"},{name:"Price: High to Low",value:"priceDesc"},{name:"Brands",value:"brands"},{name:"Types",value:"types"}],this.products=[],this.brands=[],this.types=[]}ngOnInit(){this.params=new l,this.getProducts(),this.getTypes(),this.getBrands()}getProducts(){this.shopService.getProducts(this.params).subscribe(e=>{this.products=e.products,this.totalCount=e.count},e=>{console.log(e)})}getTypes(){this.shopService.getTypes().subscribe(e=>{this.types=[{id:0,name:"All"},...e]},e=>{console.log(e)})}getBrands(){this.shopService.getBrands().subscribe(e=>{this.brands=[{id:0,name:"All"},...e]},e=>{console.log(e)})}onBrandSelected(e){this.params.brandIdSelected=e,this.getProducts()}onTypeSelected(e){this.params.typeIdSelected=e,this.getProducts()}onSortSelected(e){this.params.sortSelected=e,this.getProducts()}onSearchClicked(){this.params.search=this.searchElement.nativeElement.value,this.getProducts()}onPageChanged(e){this.params.pageIndex=e.page,this.getProducts()}onReset(){this.searchElement.nativeElement.value="",this.params=new l,this.getProducts()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(d))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-shop"]],viewQuery:function(e,n){if(1&e&&t.Gf(T,7),2&e){let r;t.iGM(r=t.CRH())&&(n.searchElement=r.first)}},decls:39,vars:9,consts:[[1,"container"],[1,"row"],[1,"col-2"],[1,"text-success","ml-3"],[1,"custom-select",3,"change"],[3,"value",4,"ngFor","ngForOf"],[1,"text-success","mt-3"],[1,"list-group"],["class","list-group-item",3,"active","value","click",4,"ngFor","ngForOf"],["class","list-group-item text-outline-success",3,"active","value","click",4,"ngFor","ngForOf"],[1,"col-10","mt-1"],[1,"row","d-flex","justify-content-between","justify-content-center","pb-4"],[1,"col-6"],[1,"col-6","form-inline","d-flex"],["placeholder","Search...","type","text",1,"form-control","me-2",2,"width","500px",3,"keyup.Enter"],["search",""],["type","button",1,"btn","btn-outline-primary","me-2",3,"click"],[1,"fa","fa-search"],["type","button",1,"btn","btn-outline-success",3,"click"],[1,"fa","fa-undo"],["class","col-3 mb-4",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center"],["previousText","\u2039","nextText","\u203a","firstText","\xab","lastText","\xbb",3,"itemsPerPage","boundaryLinks","totalItems","pageChanged"],[3,"value"],[1,"list-group-item",3,"value","click"],[1,"list-group-item","text-outline-success",3,"value","click"],[1,"col-3","mb-4"],[3,"product"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"section",2),t.TgZ(3,"h5",3),t._uU(4,"Sort"),t.qZA(),t.TgZ(5,"select",4),t.NdJ("change",function(s){return n.onSortSelected(s.target.value)}),t.YNc(6,S,2,2,"option",5),t.qZA(),t.TgZ(7,"h5",6),t._uU(8,"Brands"),t.qZA(),t.TgZ(9,"ul",7),t.YNc(10,y,2,4,"li",8),t.qZA(),t.TgZ(11,"h5",6),t._uU(12,"Types"),t.qZA(),t.TgZ(13,"ul",7),t.YNc(14,x,2,4,"li",9),t.qZA(),t.qZA(),t.TgZ(15,"section",10),t.TgZ(16,"div",11),t.TgZ(17,"header",12),t.TgZ(18,"span"),t._uU(19,"Showing "),t.TgZ(20,"strong"),t._uU(21),t.qZA(),t._uU(22," out of "),t.TgZ(23,"strong"),t._uU(24),t.qZA(),t._uU(25,"results "),t.qZA(),t.qZA(),t.TgZ(26,"div",13),t.TgZ(27,"input",14,15),t.NdJ("keyup.Enter",function(){return n.onSearchClicked()}),t.qZA(),t.TgZ(29,"button",16),t.NdJ("click",function(){return n.onSearchClicked()}),t._uU(30,"Search "),t._UZ(31,"i",17),t.qZA(),t.TgZ(32,"button",18),t.NdJ("click",function(){return n.onReset()}),t._uU(33,"Reset "),t._UZ(34,"i",19),t.qZA(),t.qZA(),t.qZA(),t.TgZ(35,"div",1),t.YNc(36,b,2,1,"div",20),t.qZA(),t.TgZ(37,"div",21),t.TgZ(38,"pagination",22),t.NdJ("pageChanged",function(s){return n.onPageChanged(s)}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(6),t.Q6J("ngForOf",n.sortOptions),t.xp6(4),t.Q6J("ngForOf",n.brands),t.xp6(4),t.Q6J("ngForOf",n.types),t.xp6(7),t.hij(" ",n.products.length,""),t.xp6(3),t.hij(" ",n.totalCount," "),t.xp6(12),t.Q6J("ngForOf",n.products),t.xp6(2),t.Q6J("itemsPerPage",n.params.pageSize)("boundaryLinks",!0)("totalItems",n.totalCount))},directives:[a.sg,m.YN,m.Kr,Z,v.Qt],styles:[".row[_ngcontent-%COMP%]{margin:0;padding:0;width:163vh}.list-group-item[_ngcontent-%COMP%]{cursor:pointer;border:none;padding:10px 20px;font-size:1.1em}.list-group-item[_ngcontent-%COMP%]:focus{outline:none}.list-group-item.active[_ngcontent-%COMP%]{border-radius:10px;background-color:#5e0404b4}.list-group-item[_ngcontent-%COMP%]:not(.active):hover{color:#fff;background-color:#e95620b4;border-radius:10px}"]}),o})()},{path:":id",component:(()=>{class o{constructor(e,n,r){this.shopService=e,this.activateRoute=n,this.basketService=r,this.quantity=0}ngOnInit(){this.loadProduct(this.activateRoute.snapshot.params.id)}loadProduct(e){this.shopService.getProduct(e).subscribe(n=>this.product=n,n=>console.log(n))}increaseQuantity(){this.quantity++}decreaseQuantity(){this.quantity>0&&this.quantity--}addItemToBasket(){0===this.quantity&&this.quantity++,this.basketService.addItemToBasket(this.product,this.quantity)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(d),t.Y36(u.gz),t.Y36(g.v))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-product-details"]],viewQuery:function(e,n){if(1&e&&t.Gf(q,5),2&e){let r;t.iGM(r=t.CRH())&&(n.quantityElement=r.first)}},decls:1,vars:1,consts:[["style","margin-left: 45%;",4,"ngIf"],[2,"margin-left","45%"],[1,"card-body","d-flex","align-items-center","flex-column","h-100","mt-2","shadow-sm"],[1,"img-fluid",2,"max-width","500px","max-height","400px",3,"routerLink","src","alt"],[1,"card-body"],[1,"card-text",2,"max-width","600px"],[1,"d-flex","flex-content-center","align-items-center","btn-group","mt-auto"],["type","button",1,"btn","btn-outline-secondary","fa","fa-shopping-cart",3,"click"],[1,"fa","fa-minus-circle","text-warning",2,"margin-left","90px","cursor","pointer","font-size","2em",3,"click"],[2,"font-weight","bold","margin-left","10px","font-size","1.5em"],["productQuantity",""],[1,"fa","fa-plus-circle","text-warning",2,"margin-left","10px","cursor","pointer","font-size","2em",3,"click"]],template:function(e,n){1&e&&t.YNc(0,A,19,10,"div",0),2&e&&t.Q6J("ngIf",n.product)},directives:[a.O5,u.rH],pipes:[a.H9],styles:[""]}),o})()}];let P=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[u.Bz.forChild(k)],u.Bz]}),o})(),U=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[a.ez,h.m,P]]}),o})()}}]);